{"version":3,"sources":["components/Layer/Layer.tsx"],"names":[],"mappings":";;;;;;;IAOA;QAA2B,yBAA8B;QAcvD,eAAY,KAAmB;YAC7B,kBAAM,KAAK,CAAC,CAAC;YAEb,IAAI,CAAC,GAAG,GAAG,iBAAK,EAAE,CAAC;QACrB,CAAC;QAEM,iCAAiB,GAAxB;YAAA,iBAYC;YAXC,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,qBAAS,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAElF,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAE5B,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,EAAE,UAAC,cAAc;gBACzE,KAAI,CAAC,eAAe,GAAG,cAAc,CAAC;gBAEtC,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC;oBAC9B,KAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;gBAC9B,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;QAEM,oCAAoB,GAA3B;YACE,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC;QAEM,yCAAyB,GAAhC,UAAiC,QAAqB;YACpD,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBACzB,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YAC9C,CAAC;QACH,CAAC;QAEM,2BAAW,GAAlB;YACE,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBACzB,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC;YACrC,CAAC;QACH,CAAC;QAEM,sBAAM,GAAb;YACE,MAAM,CAAC,CACL,qBAAC,IAAI,IACH,SAAS,EAAC,UAAU,EACpB,GAAG,EAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAG,EACtC,CACL,CAAC;QACJ,CAAC;QAxDa,kBAAY,GAAG;YAC3B,SAAS,EAAE,KAAK,CAAC,SAAS,CAAC,MAAM;SAClC,CAAC;QAuDJ,YAAC;IAAD,CA1DA,AA0DC,CA1D0B,yBAAa,GA0DvC;IA1DY,aAAK,QA0DjB,CAAA","file":"components/Layer/Layer.js","sourcesContent":["import * as React from 'react';\r\nimport { ILayerProps } from './Layer.Props';\r\nimport { LayerHost } from './LayerHost';\r\nimport { ProjectedLayer } from './ProjectedLayer';\r\nimport { BaseComponent, getId } from '../../Utilities';\r\nimport './Layer.scss';\r\n\r\nexport class Layer extends BaseComponent<ILayerProps, {}> {\r\n  public static contextTypes = {\r\n    layerHost: React.PropTypes.object\r\n  };\r\n\r\n  public context: {\r\n    layerHost: LayerHost;\r\n  };\r\n\r\n  private _rootElement: HTMLElement;\r\n  private _projectedLayer: ProjectedLayer;\r\n  private _layerHost: LayerHost;\r\n  private _id: string;\r\n\r\n  constructor(props?: ILayerProps) {\r\n    super(props);\r\n\r\n    this._id = getId();\r\n  }\r\n\r\n  public componentDidMount() {\r\n    let layerHost = this.context.layerHost || LayerHost.getDefault(this._rootElement);\r\n\r\n    this._layerHost = layerHost;\r\n\r\n    layerHost.addLayer(this._id, this._rootElement, this.props, (projectedLayer) => {\r\n      this._projectedLayer = projectedLayer;\r\n\r\n      if (this.props.onLayerMounted) {\r\n        this.props.onLayerMounted();\r\n      }\r\n    });\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    this._layerHost.removeLayer(this._id);\r\n  }\r\n\r\n  public componentWillReceiveProps(newProps: ILayerProps) {\r\n    if (this._projectedLayer) {\r\n      this._projectedLayer.projectProps(newProps);\r\n    }\r\n  }\r\n\r\n  public forceUpdate() {\r\n    if (this._projectedLayer) {\r\n      this._projectedLayer.forceUpdate();\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <span\r\n        className='ms-Layer'\r\n        ref={ this._resolveRef('_rootElement') }\r\n        />\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}